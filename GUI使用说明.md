# 天翼云保活工具 - GUI版本使用说明

## 功能特点

### 📊 实时状态监控
- 实时显示运行状态和当前步骤
- 显示运行时间计数器
- 彩色状态指示（绿色=运行中，红色=已停止）

### 📝 实时日志显示
- 所有操作都有详细的时间戳日志
- 支持滚动查看历史日志
- 自动保持合理的日志行数

### ⚙️ 可视化配置管理
- 图形化设置界面，无需手动编辑JSON文件
- 支持设置：
  - 天翼云账号和密码
  - 浏览器类型（Chrome/Edge）
  - 浏览器路径
  - 监听端口
  - 推送Token

### 🖼️ 截图查看功能
- 一键查看当前云桌面截图
- 自动调整图片大小适应窗口

### 🔄 便捷控制
- 一键启动/停止保活服务
- 安全关闭确认（运行时关闭会提示）

## 使用方法

### 1. 启动程序
双击 `start_gui.bat` 或直接运行 `python ctyun_gui.py`

### 2. 配置设置
1. 切换到"配置设置"标签页
2. 填入你的天翼云手机号和密码
3. 选择浏览器类型（推荐Chrome）
4. 确认浏览器路径（程序会自动检测）
5. 点击"保存配置"

### 3. 开始保活
1. 返回"运行状态"标签页
2. 点击"启动保活"按钮
3. 观察日志输出和状态变化

### 4. 监控运行
- 查看状态指示器了解当前运行状态
- 观察日志输出了解详细执行情况
- 运行时间计数器显示已运行时长
- 点击"查看截图"可以看到当前云桌面画面

## 界面说明

### 运行状态页面
- **状态指示器**: 显示当前运行状态（未运行/正在运行/已停止）
- **当前步骤**: 显示具体执行到哪一步（登录/进入云桌面/连接云桌面/保活中）
- **运行时间**: 显示本次运行的累计时间
- **控制按钮**: 启动/停止保活、查看截图
- **运行日志**: 详细的操作日志，带时间戳

### 配置设置页面
- **账号设置**: 天翼云手机号和密码
- **浏览器设置**: 浏览器类型和安装路径
- **其他设置**: 监听端口和推送Token

## 保活流程

1. **启动Selenium**: 自动打开指定浏览器
2. **登录天翼云**: 自动输入账号密码登录
3. **进入云桌面**: 自动导航到云桌面列表
4. **连接云桌面**: 自动点击第一个可用的云桌面
5. **开始保活**: 每30秒发送保活信号，防止休眠

## 注意事项

- 确保账号密码正确
- 首次运行可能需要处理验证码
- 程序运行期间不要手动操作浏览器窗口
- 如需长期运行，建议设置为开机自启动
- 截图功能需要云桌面连接成功后才可用

## 故障排除

1. **浏览器启动失败**: 检查浏览器路径是否正确
2. **登录失败**: 确认账号密码无误，可能需要处理验证码
3. **连接超时**: 网络问题，程序会自动重试
4. **截图显示失败**: 确保云桌面已成功连接

## 相比命令行版本的优势

- 🎯 **可视化操作**: 无需记忆命令行参数
- 📊 **实时监控**: 直观的状态显示和日志输出
- ⚙️ **简单配置**: 图形化配置界面，避免手动编辑文件
- 🖼️ **截图查看**: 直接在界面中查看云桌面状态
- 🔄 **便捷控制**: 一键启停，无需重复输入命令
- 💻 **用户友好**: 适合不熟悉命令行的用户使用